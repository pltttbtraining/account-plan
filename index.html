<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°‡πÅ‡∏•‡∏∞‡πÇ‡∏Ñ‡πâ‡∏ä‡∏ä‡∏¥‡πà‡∏á</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        /* Reset ‡πÅ‡∏•‡∏∞ Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #007AFF;
            --primary-dark: #0056CC;
            --secondary-color: #5856D6;
            --success-color: #34C759;
            --warning-color: #FF9500;
            --error-color: #FF3B30;
            
            --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --glass-bg: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.18);
            --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            
            --text-primary: #1D1D1F;
            --text-secondary: #86868B;
            --text-white: #FFFFFF;
            
            --border-radius: 12px;
            --border-radius-lg: 20px;
            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            color: var(--text-primary);
            line-height: 1.6;
        }

        /* Glassmorphism Design */
        .glass-container {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            padding: var(--spacing-lg);
            margin: var(--spacing-lg);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        /* Layout */
        .app {
            min-height: 100vh;
        }

        .loading-page {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: var(--spacing-lg);
        }

        .dashboard {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Navigation */
        .main-nav {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: var(--spacing-md) var(--spacing-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-brand {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .nav-menu {
            display: flex;
            gap: var(--spacing-sm);
            align-items: center;
        }

        .menu-card {
            background: white;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            font-weight: 600;
            text-decoration: none;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }

        .menu-card:hover {
            transform: translateY(-2px);
            border-color: var(--primary-color);
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.15);
        }

        .menu-card.active {
            background: var(--primary-color);
            color: white;
        }

        .nav-actions {
            display: flex;
            gap: var(--spacing-sm);
            align-items: center;
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-xs);
            text-decoration: none;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: var(--text-white);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
        }

        /* Forms */
        .form-container {
            max-width: 800px;
            margin: 0 auto;
            padding: var(--spacing-lg);
        }

        .form-section {
            background: white;
            border-radius: var(--border-radius);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .form-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            color: var(--text-primary);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: var(--spacing-xs);
        }

        .form-group {
            margin-bottom: var(--spacing-md);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-md);
        }

        .form-label {
            display: block;
            margin-bottom: var(--spacing-xs);
            font-weight: 600;
            color: var(--text-primary);
        }

        .form-label.required::after {
            content: " *";
            color: var(--error-color);
        }

        .form-input, .form-select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #E5E5EA;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
        }

        .input-with-button {
            display: flex;
            gap: var(--spacing-sm);
        }

        .input-with-button .form-input {
            flex: 1;
        }

        /* Dashboard */
        .dashboard-content {
            padding: var(--spacing-lg);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }

        .stat-card {
            background: white;
            padding: var(--spacing-lg);
            border-radius: var(--border-radius);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: var(--spacing-xs);
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
            font-weight: 600;
        }

        /* Team Overview */
        .team-overview {
            background: white;
            padding: var(--spacing-lg);
            border-radius: var(--border-radius);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: var(--spacing-lg);
        }

        .team-scroll {
            display: flex;
            gap: var(--spacing-md);
            overflow-x: auto;
            padding: var(--spacing-md) 0;
        }

        .trainer-card {
            flex: 0 0 auto;
            text-align: center;
            padding: var(--spacing-md);
            border: 2px solid transparent;
            border-radius: var(--border-radius);
            transition: all 0.3s ease;
            cursor: pointer;
            min-width: 120px;
        }

        .trainer-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .trainer-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin: 0 auto var(--spacing-xs);
            color: white;
        }

        .trainer-stats {
            display: flex;
            justify-content: center;
            gap: var(--spacing-sm);
            margin-top: var(--spacing-xs);
        }

        .stat-badge {
            background: var(--primary-color);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        /* Customer ID Display */
        .customer-id-display {
            background: var(--glass-card);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
            margin-bottom: var(--spacing-lg);
            text-align: center;
            border-left: 4px solid var(--primary-color);
        }

        .unsaved-badge {
            background: var(--warning-color);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: var(--spacing-sm);
        }

        /* Loading */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .main-nav {
                flex-direction: column;
                gap: var(--spacing-md);
            }
            
            .nav-menu {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .glass-container {
                margin: var(--spacing-sm);
                padding: var(--spacing-md);
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;

        // Constants
        const POSITIONS = ['BM', 'WCRM', 'CISA', 'CFSA', 'IA', 'IS', '‡∏≠‡∏∑‡πà‡∏ô ‡πÜ'];
        const COURSES = ['Account Plan', 'Calling Skill', 'Sales Technique', 'Sales Idea', '‡∏≠‡∏∑‡πà‡∏ô ‡πÜ'];
        const REGIONS = ['RH1', 'RH2', 'RH3', 'RH4', 'RH5'];
        const TRAINER_PASSWORDS = {
            '0001': 'RH1',
            '0002': 'RH2', 
            '0003': 'RH3',
            '0004': 'RH4',
            '0005': 'RH5',
            '0009': 'all'
        };

        // Utility Functions
        const generateCustomerId = () => {
            const now = new Date();
            const year = (now.getFullYear() + 543).toString().slice(-2);
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            return `C-${year}${month}${day}${hours}${minutes}`;
        };

        const formatThaiDateTime = (date = new Date()) => {
            return date.toLocaleString('th-TH', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                hour12: false
            });
        };

        // Data Service
        const DataService = {
            getRegistrations: () => {
                return JSON.parse(localStorage.getItem('registrations') || '[]');
            },
            
            saveRegistration: (data) => {
                const registrations = DataService.getRegistrations();
                registrations.push({ ...data, timestamp: formatThaiDateTime() });
                localStorage.setItem('registrations', JSON.stringify(registrations));
                return true;
            },
            
            getCoachings: () => {
                return JSON.parse(localStorage.getItem('coachings') || '[]');
            },
            
            saveCoaching: (data) => {
                const coachings = DataService.getCoachings();
                coachings.push({ ...data, timestamp: formatThaiDateTime() });
                localStorage.setItem('coachings', JSON.stringify(coachings));
                return true;
            },
            
            getDashboardData: (region) => {
                let registrations = DataService.getRegistrations();
                let coachings = DataService.getCoachings();
                
                if (region && region !== 'all') {
                    registrations = registrations.filter(reg => reg.region === region);
                    coachings = coachings.filter(coach => coach.region === region);
                }
                
                return {
                    totalRegistrations: registrations.length,
                    totalCoachings: coachings.length,
                    registrationsByRegion: DataService.groupBy(registrations, 'region'),
                    coachingsByRegion: DataService.groupBy(coachings, 'region'),
                    registrationsByPosition: DataService.groupBy(registrations, 'position'),
                    coachingTypes: DataService.groupBy(coachings, 'coachingType')
                };
            },
            
            groupBy: (array, key) => {
                return array.reduce((acc, item) => {
                    const group = item[key] || 'Unknown';
                    acc[group] = (acc[group] || 0) + 1;
                    return acc;
                }, {});
            }
        };

        // Components
        const LoadingSpinner = () => (
            <div className="loading-spinner"></div>
        );

        const Navigation = ({ userType, activeMenu, onMenuSelect, onLogout }) => (
            <nav className="main-nav">
                <div className="nav-brand">‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</div>
                <div className="nav-menu">
                    <button 
                        className={`menu-card ${activeMenu === 'register' ? 'active' : ''}`}
                        onClick={() => onMenuSelect('register')}
                    >
                        üìù Register
                    </button>
                    <button 
                        className={`menu-card ${activeMenu === 'coach' ? 'active' : ''}`}
                        onClick={() => onMenuSelect('coach')}
                    >
                        üíº Coach
                    </button>
                    <button 
                        className={`menu-card ${activeMenu === 'library' ? 'active' : ''}`}
                        onClick={() => onMenuSelect('library')}
                    >
                        üìö Idea Library
                    </button>
                </div>
                <div className="nav-actions">
                    <button className="btn btn-sm btn-secondary" onClick={onLogout}>
                        üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
                    </button>
                </div>
            </nav>
        );

        const RegisterForm = () => {
            const [formData, setFormData] = useState({
                name: '',
                employeeId: '',
                position: '',
                branchCode: '',
                branchName: '',
                region: '',
                zone: '',
                branch: '',
                course: '',
                otherCourse: ''
            });
            const [isSubmitting, setIsSubmitting] = useState(false);

            const handleSubmit = async (e) => {
                e.preventDefault();
                setIsSubmitting(true);
                
                try {
                    const success = DataService.saveRegistration(formData);
                    if (success) {
                        alert('‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
                        setFormData({
                            name: '', employeeId: '', position: '', branchCode: '',
                            branchName: '', region: '', zone: '', branch: '',
                            course: '', otherCourse: ''
                        });
                    }
                } catch (error) {
                    alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
                } finally {
                    setIsSubmitting(false);
                }
            };

            return (
                <div className="form-container">
                    <h2 className="form-title">‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏≠‡∏ö‡∏£‡∏°</h2>
                    <form onSubmit={handleSubmit}>
                        <div className="form-section">
                            <div className="form-group">
                                <label className="form-label required">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                                <input
                                    type="text"
                                    className="form-input"
                                    value={formData.name}
                                    onChange={(e) => setFormData({...formData, name: e.target.value})}
                                    required
                                />
                            </div>

                            <div className="form-group">
                                <label className="form-label required">‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</label>
                                <input
                                    type="text"
                                    className="form-input"
                                    value={formData.employeeId}
                                    onChange={(e) => setFormData({...formData, employeeId: e.target.value})}
                                    required
                                />
                            </div>

                            <div className="form-group">
                                <label className="form-label required">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label>
                                <select
                                    className="form-select"
                                    value={formData.position}
                                    onChange={(e) => setFormData({...formData, position: e.target.value})}
                                    required
                                >
                                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</option>
                                    {POSITIONS.map(pos => (
                                        <option key={pos} value={pos}>{pos}</option>
                                    ))}
                                </select>
                            </div>

                            <div className="form-group">
                                <label className="form-label">‡∏£‡∏´‡∏±‡∏™‡∏™‡∏≤‡∏Ç‡∏≤</label>
                                <div className="input-with-button">
                                    <input
                                        type="text"
                                        className="form-input"
                                        value={formData.branchCode}
                                        onChange={(e) => setFormData({...formData, branchCode: e.target.value})}
                                        placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏™‡∏≤‡∏Ç‡∏≤"
                                    />
                                    <button type="button" className="btn btn-sm btn-secondary">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
                                </div>
                            </div>

                            {!formData.branchCode && (
                                <div className="form-group">
                                    <label className="form-label required">Region</label>
                                    <select
                                        className="form-select"
                                        value={formData.region}
                                        onChange={(e) => setFormData({...formData, region: e.target.value})}
                                        required
                                    >
                                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Region</option>
                                        {REGIONS.map(region => (
                                            <option key={region} value={region}>{region}</option>
                                        ))}
                                    </select>
                                </div>
                            )}

                            <div className="form-group">
                                <label className="form-label required">‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</label>
                                <select
                                    className="form-select"
                                    value={formData.course}
                                    onChange={(e) => setFormData({...formData, course: e.target.value})}
                                    required
                                >
                                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£</option>
                                    {COURSES.map(course => (
                                        <option key={course} value={course}>{course}</option>
                                    ))}
                                </select>
                            </div>

                            {formData.course === '‡∏≠‡∏∑‡πà‡∏ô ‡πÜ' && (
                                <div className="form-group">
                                    <label className="form-label">‡∏£‡∏∞‡∏ö‡∏∏‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£</label>
                                    <input
                                        type="text"
                                        className="form-input"
                                        value={formData.otherCourse}
                                        onChange={(e) => setFormData({...formData, otherCourse: e.target.value})}
                                    />
                                </div>
                            )}

                            <button type="submit" className="btn btn-primary" disabled={isSubmitting}>
                                {isSubmitting ? <LoadingSpinner /> : 'Submit'}
                            </button>
                        </div>
                    </form>
                </div>
            );
        };

        const CoachForm = () => {
            const [customerId, setCustomerId] = useState('');
            const [isSaved, setIsSaved] = useState(false);
            const [isSubmitting, setIsSubmitting] = useState(false);
            const [formData, setFormData] = useState({
                employeeName: '',
                employeeId: '',
                position: '',
                customerName: '',
                coachingType: ''
            });

            useEffect(() => {
                setCustomerId(generateCustomerId());
            }, []);

            const handleSave = async () => {
                setIsSubmitting(true);
                
                try {
                    const completeData = {
                        customerId,
                        ...formData,
                        timestamp: formatThaiDateTime(),
                        lastUpdate: formatThaiDateTime(),
                        updatedBy: 'General User'
                    };

                    const success = DataService.saveCoaching(completeData);
                    if (success) {
                        setIsSaved(true);
                        alert(`‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô\nCustomer ID ‡∏Ñ‡∏∑‡∏≠ : ${customerId}`);
                    }
                } catch (error) {
                    alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•');
                } finally {
                    setIsSubmitting(false);
                }
            };

            return (
                <div className="form-container">
                    <h2 className="form-title">‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏≠‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤ / Coaching</h2>
                    
                    <div className="customer-id-display">
                        <strong>Customer ID: {customerId}</strong>
                        {!isSaved && <span className="unsaved-badge">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</span>}
                    </div>

                    <div className="form-section">
                        <h3>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h3>
                        <div className="form-row">
                            <div className="form-group">
                                <label className="form-label required">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                                <input
                                    type="text"
                                    className="form-input"
                                    value={formData.employeeName}
                                    onChange={(e) => setFormData({...formData, employeeName: e.target.value})}
                                    required
                                />
                            </div>
                            <div className="form-group">
                                <label className="form-label required">‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</label>
                                <input
                                    type="text"
                                    className="form-input"
                                    value={formData.employeeId}
                                    onChange={(e) => setFormData({...formData, employeeId: e.target.value})}
                                    required
                                />
                            </div>
                        </div>

                        <div className="form-group">
                            <label className="form-label required">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label>
                            <select
                                className="form-select"
                                value={formData.position}
                                onChange={(e) => setFormData({...formData, position: e.target.value})}
                                required
                            >
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</option>
                                {POSITIONS.map(pos => (
                                    <option key={pos} value={pos}>{pos}</option>
                                ))}
                            </select>
                        </div>
                    </div>

                    <div className="form-section">
                        <h3>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h3>
                        <div className="form-row">
                            <div className="form-group">
                                <label className="form-label required">‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏ô‡∏≤‡∏°‡∏™‡∏°‡∏°‡∏ï‡∏¥</label>
                                <input
                                    type="text"
                                    className="form-input"
                                    value={formData.customerName}
                                    onChange={(e) => setFormData({...formData, customerName: e.target.value})}
                                    required
                                />
                            </div>
                        </div>
                    </div>

                    <div className="form-section">
                        <h3>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó Coaching ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</h3>
                        <div className="form-group">
                            <select
                                className="form-select"
                                value={formData.coachingType}
                                onChange={(e) => setFormData({...formData, coachingType: e.target.value})}
                                required
                            >
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó Coaching</option>
                                {COURSES.map(course => (
                                    <option key={course} value={course}>{course}</option>
                                ))}
                            </select>
                        </div>
                    </div>

                    <div className="form-actions" style={{ display: 'flex', gap: '1rem', justifyContent: 'center' }}>
                        <button onClick={handleSave} className="btn btn-primary" disabled={isSubmitting}>
                            {isSubmitting ? <LoadingSpinner /> : '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å'}
                        </button>
                        <button className="btn btn-secondary">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    </div>
                </div>
            );
        };

        const IdeaLibrary = () => (
            <div className="form-container">
                <h2 className="form-title">‡∏Ñ‡∏•‡∏±‡∏á‡πÑ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢</h2>
                <div className="form-section">
                    <div style={{ textAlign: 'center', padding: '3rem' }}>
                        <h3 style={{ color: '#666', marginBottom: '1rem' }}>‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡πÉ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏î‡∏ß‡∏Å</h3>
                        <p style={{ color: '#888' }}>‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤</p>
                    </div>
                </div>
            </div>
        );

        const TeamOverview = () => {
            const [trainers] = useState([
                { id: '1', name: 'Trainer RH1', region: 'RH1', avatar: 'üë®‚Äçüíº', totalMTD: 45, newCases: 3 },
                { id: '2', name: 'Trainer RH2', region: 'RH2', avatar: 'üë©‚Äçüíº', totalMTD: 38, newCases: 5 },
                { id: '3', name: 'Trainer RH3', region: 'RH3', avatar: 'üë®‚Äçüíº', totalMTD: 52, newCases: 2 },
                { id: '4', name: 'Trainer RH4', region: 'RH4', avatar: 'üë©‚Äçüíº', totalMTD: 29, newCases: 4 },
                { id: '5', name: 'Trainer RH5', region: 'RH5', avatar: 'üë®‚Äçüíº', totalMTD: 41, newCases: 1 },
            ]);

            return (
                <div className="team-overview">
                    <h3>Team Overview</h3>
                    <div className="team-scroll">
                        {trainers.map(trainer => (
                            <div key={trainer.id} className="trainer-card">
                                <div className="trainer-avatar">{trainer.avatar}</div>
                                <div style={{ fontWeight: '600' }}>{trainer.region}</div>
                                <div className="trainer-stats">
                                    <span className="stat-badge">{trainer.totalMTD}</span>
                                    <span className="stat-badge" style={{ background: '#FF9500' }}>
                                        {trainer.newCases}
                                    </span>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        // Pages
        const LoadingPage = ({ onNavigate }) => {
            const [trainerPassword, setTrainerPassword] = useState('');
            const [adminPassword, setAdminPassword] = useState('');

            const handleGeneralUser = () => {
                onNavigate('general-user');
            };

            const handleTrainerLogin = () => {
                const region = TRAINER_PASSWORDS[trainerPassword];
                if (region) {
                    onNavigate('trainer', { region });
                } else {
                    alert('‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
                }
            };

            const handleAdminLogin = () => {
                if (adminPassword === 'admin123') {
                    onNavigate('admin');
                } else {
                    alert('‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
                }
            };

            return (
                <div className="loading-page">
                    <div className="glass-container">
                        <h1 style={{ textAlign: 'center', marginBottom: '2rem', color: 'white' }}>
                            ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°‡πÅ‡∏•‡∏∞‡πÇ‡∏Ñ‡πâ‡∏ä‡∏ä‡∏¥‡πà‡∏á
                        </h1>
                        
                        <div className="button-group">
                            <button className="btn btn-primary btn-lg" onClick={handleGeneralUser}>
                                General User (‡πÄ‡∏Ç‡πâ‡∏≤‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™)
                            </button>
                            
                            <div style={{ marginTop: '2rem' }}>
                                <h3 style={{ color: 'white', marginBottom: '1rem' }}>Trainer</h3>
                                <div style={{ display: 'flex', gap: '0.5rem' }}>
                                    <input
                                        type="password"
                                        className="form-input"
                                        placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô"
                                        value={trainerPassword}
                                        onChange={(e) => setTrainerPassword(e.target.value)}
                                        style={{ flex: 1 }}
                                    />
                                    <button className="btn btn-secondary" onClick={handleTrainerLogin}>
                                        ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
                                    </button>
                                </div>
                            </div>
                            
                            <div style={{ marginTop: '1rem' }}>
                                <h3 style={{ color: 'white', marginBottom: '1rem' }}>Admin</h3>
                                <div style={{ display: 'flex', gap: '0.5rem' }}>
                                    <input
                                        type="password"
                                        className="form-input"
                                        placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô"
                                        value={adminPassword}
                                        onChange={(e) => setAdminPassword(e.target.value)}
                                        style={{ flex: 1 }}
                                    />
                                    <button className="btn btn-secondary" onClick={handleAdminLogin}>
                                        ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const GeneralUserDashboard = ({ onLogout }) => {
            const [activeMenu, setActiveMenu] = useState(null);

            const renderContent = () => {
                switch (activeMenu) {
                    case 'register':
                        return <RegisterForm />;
                    case 'coach':
                        return <CoachForm />;
                    case 'library':
                        return <IdeaLibrary />;
                    default:
                        return (
                            <div style={{ textAlign: 'center', padding: '4rem', color: 'white' }}>
                                <h2>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h2>
                                <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
                            </div>
                        );
                }
            };

            return (
                <div className="dashboard">
                    <Navigation 
                        userType="general" 
                        activeMenu={activeMenu}
                        onMenuSelect={setActiveMenu}
                        onLogout={onLogout}
                    />
                    <main className="dashboard-content">
                        {renderContent()}
                    </main>
                </div>
            );
        };

        const TrainerDashboard = ({ region, onLogout }) => {
            const [stats, setStats] = useState(null);
            const [selectedRegion, setSelectedRegion] = useState(region);

            useEffect(() => {
                const dashboardData = DataService.getDashboardData(selectedRegion);
                setStats(dashboardData);
            }, [selectedRegion]);

            return (
                <div className="dashboard">
                    <nav className="main-nav">
                        <div className="nav-brand">Trainer Dashboard - {region}</div>
                        <div className="nav-actions">
                            <select 
                                value={selectedRegion}
                                onChange={(e) => setSelectedRegion(e.target.value)}
                                className="form-select"
                                style={{ width: 'auto' }}
                            >
                                <option value="all">All Regions</option>
                                {REGIONS.map(r => (
                                    <option key={r} value={r}>{r}</option>
                                ))}
                            </select>
                            <button className="btn btn-sm btn-secondary" onClick={onLogout}>
                                üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
                            </button>
                        </div>
                    </nav>

                    <div className="dashboard-content">
                        <TeamOverview />
                        
                        {stats && (
                            <div className="stats-grid">
                                <div className="stat-card">
                                    <div className="stat-number">{stats.totalRegistrations}</div>
                                    <div className="stat-label">Total Registrations</div>
                                </div>
                                <div className="stat-card">
                                    <div className="stat-number">{stats.totalCoachings}</div>
                                    <div className="stat-label">Total Coachings</div>
                                </div>
                                <div className="stat-card">
                                    <div className="stat-number">
                                        {Object.values(stats.registrationsByRegion).reduce((a, b) => a + b, 0)}
                                    </div>
                                    <div className="stat-label">Total Regions</div>
                                </div>
                            </div>
                        )}

                        <div className="form-section">
                            <h3>Customer Search</h3>
                            <div className="form-group">
                                <input
                                    type="text"
                                    className="form-input"
                                    placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢ Customer ID"
                                />
                            </div>
                            <button className="btn btn-primary">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
                        </div>
                    </div>
                </div>
            );
        };

        const AdminDashboard = ({ onLogout }) => (
            <div className="dashboard">
                <nav className="main-nav">
                    <div className="nav-brand">Admin Dashboard</div>
                    <div className="nav-actions">
                        <button className="btn btn-sm btn-secondary" onClick={onLogout}>
                            üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
                        </button>
                    </div>
                </nav>

                <div className="dashboard-content">
                    <div className="form-container">
                        <h2 className="form-title">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Admin</h2>
                        <div className="form-section">
                            <h3>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Idea Library</h3>
                            <div style={{ display: 'flex', gap: '1rem', flexWrap: 'wrap' }}>
                                <button className="btn btn-primary">‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå</button>
                                <button className="btn btn-primary">‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå PDF</button>
                                <button className="btn btn-primary">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏´‡∏±‡∏™ Trainer</button>
                            </div>
                        </div>

                        <div className="form-section">
                            <h3>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà Idea Library</h3>
                            <div style={{ display: 'flex', gap: '1rem', flexDirection: 'column' }}>
                                <button className="btn btn-outline">Sales Script</button>
                                <button className="btn btn-outline">Sales Idea</button>
                                <button className="btn btn-outline">Objection Handling</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        );

        // Main App Component
        const App = () => {
            const [currentPage, setCurrentPage] = useState('loading');
            const [pageProps, setPageProps] = useState({});

            const handleNavigate = (page, props = {}) => {
                setCurrentPage(page);
                setPageProps(props);
            };

            const handleLogout = () => {
                setCurrentPage('loading');
                setPageProps({});
            };

            const renderPage = () => {
                switch (currentPage) {
                    case 'loading':
                        return <LoadingPage onNavigate={handleNavigate} />;
                    case 'general-user':
                        return <GeneralUserDashboard onLogout={handleLogout} />;
                    case 'trainer':
                        return <TrainerDashboard {...pageProps} onLogout={handleLogout} />;
                    case 'admin':
                        return <AdminDashboard onLogout={handleLogout} />;
                    default:
                        return <LoadingPage onNavigate={handleNavigate} />;
                }
            };

            return <div className="app">{renderPage()}</div>;
        };

        // Render the App
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
